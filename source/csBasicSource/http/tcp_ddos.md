## tcp

- seq = x;
- seq = y; ack = x + 1;
- seq = x + 1; ack = y+1;

#### 四次挥手
- 客户端发起fin  seq
- ack = p+1
- seq=q ack=p+1
- ack = 1+1

tcp如何保证有效传输
- 有状态：确认收到了哪儿些报文，保证数据包的有序性
- 可控制：丢包或者网络不佳时调节传输速度

拥塞控制原理
- tcp确定窗口大小，定位拥塞窗口
- 经过一轮rtt，拥塞窗口翻倍，直到达到慢启动阈值
- 达到阈值后慢启动避免，每轮增加一个拥塞窗口

快速重传
- 服务端告诉客户端所丢包的ack，发送有序性的多个ack
- 客户端识别到重复ack，意识丢包立马重传

快速恢复
- 重复发送ack且网络已经拥塞时，慢启动阈值减低为原先拥塞窗口的一半，拥塞窗口大小改为这个阈值
- 慢慢增加拥塞窗口，适应网络

七层：
应用层，表示层，会话层，传输层，网络层，数据链路层，物理层

tcp可靠主要体现在有状态，可控制
- 知道哪儿些数据被接收或者没被接收，保证数据都是按序到达传输
- 可控制，传输阈值速度适应网络速度，或者丢包重发

udp就是无状态不可控制的

http2
1. 多路复用
2. 头部压缩
3. 服务端推送

DDOS: 分布式拒绝服务攻击，向服务节点发送大量请求
1. 大量服务占用带宽，阻断正常通讯
2. 服务器超负荷

解决：
1. 黑名单
2. 流量清洗，异常数据请求拒绝服务
3. CDN加速
4. 高防服务器
